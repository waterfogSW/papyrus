---
tags:
  - Daily
---
## JVM이 객체에 접근하는 방법

자바 가상 머신 명세는 참조 타입을 단지 `객체를 가리키는 참조`라고만 정했을 뿐, 힙에서 객체의 정확한 위치를 알아내어 접근하는 구체적인 방법은 규정하지 않았다. 때문에 객체에 접근하는 방식 역시 가상 머신 마다 다르며, 핸들이나 다이렉트 포인터를 사용해 구현한다.


### 핸들 방식

자바힙에 핸들 저장용 풀이 별도로 존재한다. 참조에는 객체의 핸들 주소가 저장되고, 핸들에는 해당 객체의 인스턴스 데이터, 타입 데이터, 구조 등의 정확한 주소 정보가 담긴다.

**장점**

- 안정적인 핸들의 주소가 저장됨
- GC과정에서 객체가 이동하더라도 참조를 손댈 필요가 없다. 대신 핸들의 인스턴스 데이터 포인터만 변경하면 된다.

### 다이렉트 포인터 방식

자바 힙에 위치한 객체에서 인스턴스 데이터 뿐만 아니라 타입 데이터에 접근하는 길도 제공 해야 한다. 즉 핸들 풀의 핸들을 거치지 않고, 객체가 직접 메서드 영역의 객체 타입 데이터 포인터를 가지고 있기 때문에 핸들을 경유하는 오버헤드가 없다.

**장점**
- 핸들을 경유하는 오버헤드가 없다.


**핫스팟은 주로 다이렉트 포인터 방식을 이용한다.**

